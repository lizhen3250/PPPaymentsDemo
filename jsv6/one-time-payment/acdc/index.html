<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PayPal One Time Payment Demo</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="../acdc/acdc-css.css">
    <style>
        .card-field {
            height: 3rem;
            margin-bottom: 1rem;
        }
    </style>
</head>

<body>
    <div class="container">
        <header>
            
        </header>

        <div class="content">
            <div class="left-panel">
                <h1>PayPal ACDC One Time Payment Demo</h1>
            <p class="subtitle">Select the product type and generate the corresponding API JSON Payload</p>
                <div class="card">
                    <h2 class="panel-title"><i class="fas fa-boxes"></i> Select product type</h2>
                    <p>Select a product type, and the system will generate the corresponding API JSON payload.</p>

                    <div class="button-group">
                        <button id="physicalBtn" class="goods-btn physical-btn active">
                            <i class="fas fa-shipping-fast btn-icon"></i>
                            <span class="btn-text">Physical Goods</span>
                        </button>

                        <button id="virtualBtn" class="goods-btn virtual-btn">
                            <i class="fas fa-download btn-icon"></i>
                            <span class="btn-text">Virtual Goods</span>
                        </button>

                        <div class="current-selection">
                            Current selection: <span id="currentType" class="selection-type physical-type">Physical
                                Goods</span>
                        </div>
                    </div>
                    <div class="payment-options">
                        <div class="payment-option" data-payment="credit">
                            <div class="payment-icon">
                                <i class="far fa-credit-card"></i>
                            </div>
                            <div class="payment-details">
                                <h4>
                                    Credit/Debit card
                                    <i class="fab fa-cc-visa"></i>
                                    <i class="fab fa-cc-mastercard"></i>
                                </h4>
                                <p>Pay with Visa, Master</p>
                            </div>
                        </div>
                    </div>
                    <div class="payment-options">
                        <select name="threeds" id="threeds">
                            <option vaule="when_required">SCA_WHEN_REQUIRED</option>
                            <option vaule="sca_always">SCA_ALWAYS</option>
                        </select>
                    </div>

                    <section class="cards-section">
                        <h2 class="section-title">Testing Cards</h2>
                        <div class="cards-container" id="cardsContainer">
                            <!-- 信用卡卡片将通过JavaScript动态生成 -->
                        </div>
                        <div class="loading-dots" id="loadingDots" style="display: none;">
                            <span></span>
                            <span></span>
                            <span></span>
                        </div>
                        <div class="progress-container" id="progressContainer">
                            <div class="progress-bar" id="progressBar"></div>
                        </div>
                        <div class="action-section visible">
                            <h3>Pay with Card</h3>
                            <!-- <button class="action-button credit-card-btn"> -->
                            <div id="checkout-form">
                                <div class="card-field" id="paypal-card-fields-number"></div>
                                <div class="card-field" id="paypal-card-fields-expiry"></div>
                                <div class="card-field" id="paypal-card-fields-cvv"></div>
                                <br><br>
                                <buton class="action-button credit-card-btn" id="card-field-submit-button"
                                    type="button">
                                    <i class="far fa-credit-card"></i> Pay with card
                                </buton>
                                
                            </div>
                            <!-- </button> -->
                            <!-- <p class="instructions">After clicking the button, you will be directed to a secure payment page to complete the payment</p> -->
                        </div>
                    </section>


                </div>
            </div>
            <div class="right-panel">
                <div class="card">
                    <h2 class="panel-title">
                        <i class="fas fa-code"></i> <span id="right-panel-title-text">Create Order API</span>
                        <span id="typeIndicator" class="type-indicator physical-indicator">Physical Goods</span>
                    </h2>
                    <p id="right-panel-para">Generate JSON payload based on the product type you have selected:</p>
                    <div class="json-controls">
                        <button id="copyBtn" class="control-btn copy-btn">
                            <i class="fas fa-copy"></i> Copy
                        </button>
                        <button id="refreshBtn" class="control-btn refresh-btn">
                            <i class="fas fa-redo"></i> Regenerate
                        </button>
                        <button id="clearBtn" class="control-btn clear-btn">
                            <i class="fas fa-trash"></i> Clear
                        </button>
                    </div>
                    <div id="jsonOutput" class="json-display">
                        <!-- JSON内容将通过JavaScript动态生成 -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="notification" class="notification">
        <i class="fas fa-check-circle"></i> JSON has been copied to the clipboard!
    </div>
    <div class="notification" id="card-notification">信用卡信息已填充到表单！</div>
    <script src="../acdc/modal.js"></script>
    <script src="../acdc/acdc.js"></script>
    <script async src="https://www.sandbox.paypal.com/web-sdk/v6/core" onload="onPayPalWebSdkLoaded()"></script>
</body>

</html>